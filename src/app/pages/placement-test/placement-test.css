:host {
  --primary: #008f8f;        /* Verde claro (Solo para la barra de progreso) */
  --green-dark: #005151;     /* Verde bosque profundo (Para hovers y botones) */
  --accent: #CF6F77;
  --bg-dark: #020b0e;
  --white: #ffffff;
  --glass: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.05);
}

/* --- FIX 1: CONTENEDOR PRINCIPAL Y NAVBAR --- */
.assessment-canvas {
  background-color: var(--bg-dark);
  min-height: 100vh;
  display: flex;
  /* Cambiamos de 'center' a 'flex-start' para que no se esconda arriba */
  align-items: flex-start; 
  justify-content: center;
  position: relative;
  font-family: 'Manrope', sans-serif;
  /* Añadimos 140px de padding superior para esquivar el navbar */
  padding: 140px 1rem 4rem; 
}

/* --- FIX 2: ANCHO DE TARJETA --- */
.assessment-container {
  width: 100%;
  /* Bajamos de 60rem a 45rem para que las opciones no se estiren */
  max-width: 45rem; 
  display: flex;
  flex-direction: column;
  z-index: 10;
  margin: 0 auto;
}

/* --- PROGRESO --- */
.assessment-header { margin-bottom: 3rem; }
.header-content { display: flex; align-items: center; gap: 2rem; color: #a0aec0; font-weight: 800; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px;}
.progress-track { flex-grow: 1; height: 8px; background: rgba(255,255,255,0.15); border-radius: 10px; overflow: hidden; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); transition: width 0.4s ease; }
.step-badge, .percentage-badge { min-width: max-content; }

/* --- ÁREA DE LA PREGUNTA --- */
.assessment-body { width: 100%; }

/* Cuando hay lectura (Split Mode), dejamos que tome un poco más de ancho si es necesario */
.layout-controller { display: grid; grid-template-columns: 1fr; gap: 3rem; transition: 0.5s ease; }
@media (min-width: 1024px) {
  .layout-controller.split-mode { grid-template-columns: 350px 1fr; margin-left: -15rem; width: calc(100% + 15rem); }
}

.question-area { width: 100%; }

.question-title {
  color: var(--white);
  font-family: 'DM Serif Display', serif;
  font-size: 2.2rem;
  margin-bottom: 2.5rem;
  line-height: 1.3;
}
.text-center { text-align: center; }

/* --- OPCIONES (Hover Verde Bosque) --- */
.options-stack { display: grid; gap: 1rem; margin-bottom: 3rem; }

.option-card {
  background: var(--glass);
  border: 1px solid var(--glass-border);
  padding: 1.3rem 2rem; 
  border-radius: 1rem;
  color: var(--white); 
  font-weight: 600; 
  font-size: 1.1rem;
  text-align: left;
  display: flex; 
  align-items: center; 
  gap: 1.5rem;
  cursor: pointer; 
  transition: all 0.3s ease;
}

/* Efecto Verde Bosque */
.option-card:hover { 
  background: var(--green-dark); 
  border-color: var(--green-dark);
  transform: translateY(-2px); 
}

/* Estado Activo */
.option-card.active { 
  background: var(--green-dark); 
  border-color: var(--white); 
  box-shadow: 0 10px 20px rgba(0, 81, 81, 0.4); 
}

/* --- FOOTER Y BOTONES --- */
.quiz-footer { display: flex; justify-content: flex-end; }
.btn-next-step {
  background: var(--white); 
  color: var(--bg-dark);
  padding: 1.2rem 3.5rem; 
  border-radius: 1rem; 
  border: none;
  font-weight: 800; 
  text-transform: uppercase; 
  letter-spacing: 2px;
  cursor: pointer; 
  display: flex; 
  align-items: center; 
  gap: 1.5rem;
  transition: all 0.3s;
}

.btn-next-step:disabled { opacity: 0.1; cursor: not-allowed; }
.btn-next-step:hover:not(:disabled) { transform: scale(1.05) translateY(-3px); box-shadow: 0 10px 30px rgba(255,255,255,0.1); }
.btn-center { margin: 1.5rem auto 0; justify-content: center; width: 100%; }

/* --- FORMULARIO DE LEADS --- */
.lead-form-screen { padding: 4rem; border-radius: 2rem; width: 100%; border: 1px solid var(--glass-border); background: var(--glass); }
.tag-centered { color: var(--accent); font-weight: 900; letter-spacing: 2px; text-transform: uppercase; font-size: 0.8rem; display: block; margin-bottom: 1.5rem; text-align: center; }
.lead-form { display: flex; flex-direction: column; gap: 1.5rem; }
.premium-input { padding: 1.2rem 1.5rem; border-radius: 1rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: white; font-family: inherit; font-size: 1rem; transition: 0.3s; }
.premium-input:focus { outline: none; border-color: var(--primary); background: rgba(255,255,255,0.1); }

/* --- PANEL DE LECTURA --- */
.reading-area { padding: 2.5rem; background: var(--glass); border-radius: 1.5rem; border: 1px solid var(--glass-border); max-height: 500px; overflow-y: auto; }
.tag { color: var(--accent); font-weight: 900; letter-spacing: 2px; text-transform: uppercase; font-size: 0.8rem; display: block; margin-bottom: 1.5rem; }
.reading-text-container p { color: #cbd5e0; line-height: 1.8; font-size: 1.05rem; font-style: italic; }

/* --- RESULTADOS --- */
.victory-screen { text-align: center; padding: 4rem; border-radius: 2rem; width: 100%; border: 1px solid var(--glass-border); background: var(--glass); }
.victory-tag { color: var(--accent); font-weight: 900; letter-spacing: 2px; text-transform: uppercase; font-size: 1rem; }
.highlight { font-size: 8rem; font-family: 'DM Serif Display', serif; display: block; color: var(--white); margin: 2rem 0; text-shadow: 0 0 40px var(--green-dark); }
.actions { display: flex; gap: 1.5rem; justify-content: center; }
.btn-action-primary { background: var(--accent); color: white; padding: 1.2rem 2.5rem; border-radius: 1rem; font-weight: 800; text-decoration: none; transition: 0.3s; }
.btn-action-primary:hover { box-shadow: 0 10px 20px rgba(207, 111, 119, 0.4); transform: translateY(-3px); }
.btn-action-sub { background: transparent; border: 1px solid white; color: white; padding: 1.2rem 2.5rem; border-radius: 1rem; font-weight: 800; cursor: pointer; transition: 0.3s; }
.btn-action-sub:hover { background: white; color: var(--bg-dark); }

/* RESPONSIVE */
@media (max-width: 1024px) {
  .layout-controller.split-mode { grid-template-columns: 1fr; width: 100%; margin-left: 0; }
  .question-title { font-size: 1.8rem; }
  .highlight { font-size: 5rem; }
  .actions { flex-direction: column; }
  .assessment-canvas { padding-top: 100px; }
}